{% extends "base.html" %}

{% block extra_css %}
<style>
    /* Estilos específicos para la página del mapa - Adaptado para BS3/Poncho */
    html, body, .main-container, .main-content {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden; /* Evitar scrollbars en estos elementos */
    }

    .main-content {
        display: flex; 
        flex-direction: column;
    }

    .looker-container {
        flex-grow: 1; 
        position: relative;
        width: 100%;
        background-color: white; 
        padding: 0; 
    }

    .looker-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }
    
    header.navbar {
        position: fixed; 
        top: 0;
        width: 100%;
        z-index: 1030; 
    }

    footer.main-footer {
      display: none; /* Ocultar footer en la página del mapa para vista completa */
    }
    
    body {
        padding-top: 70px; /* Ajustar según la altura del navbar de Poncho */
    }

    .sidebar-toggle {
        position: fixed;
        top: 80px; /* Ajustado para no superponerse con el header fijo */
        left: 20px;
        z-index: 1031; 
        background-color: #232d4f; /* Color primario de Poncho (azul) */
        color: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        text-align: center;
        line-height: 40px; 
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .sidebar-toggle:hover {
        background-color: #1e2335; 
    }

</style>
{% endblock %}

{% block content %}
{# <button id="sidebarToggle" class="sidebar-toggle btn btn-primary">
    <i class="fa fa-bars"></i>
</button> #}

<div class="looker-container">
    <iframe width="100%" height="100%"
        src="https://lookerstudio.google.com/embed/reporting/2a9ae8a2-abef-4b78-a5ce-3b5170cd9fe1/page/p_rxj5rvtzqd"
        frameborder="0" style="border:0" allowfullscreen
        sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"></iframe>
</div>

{# El script de toggle de sidebar se manejaría globalmente o en base_dashboard.html si esta página lo extendiera.
   Como extiende base.html directamente y no parece haber una sidebar definida aquí, el script local no es necesario
   a menos que se implemente una sidebar específica para esta vista.
<script>
document.addEventListener('DOMContentLoaded', function() {
    var sidebarToggle = document.getElementById('sidebarToggle');
    if (sidebarToggle) {
        sidebarToggle.addEventListener('click', function() {
            document.body.classList.toggle('sidebar-hidden');
            const icon = this.querySelector('i');
            if (document.body.classList.contains('sidebar-hidden')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });
    }
});
</script>
#}
{% endblock %} 