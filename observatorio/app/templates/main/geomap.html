{% extends "base.html" %}

{% block extra_css %}
<style>
    /* Estilos específicos para la página del mapa */
    .main-content {
        padding: 0 !important;
        /* Sin padding para que el mapa ocupe todo */
        height: 100%;
        /* Asegura que el contenedor ocupe la altura */
        display: flex;
        /* Usar flexbox */
        flex-direction: column;
        /* Organizar contenido verticalmente */
    }

    .looker-container {
        flex-grow: 1;
        /* Hace que el contenedor del iframe ocupe el espacio restante */
        position: relative;
        /* Para el posicionamiento absoluto del iframe */
        width: 100%;
        background-color: white;
        /* Fondo blanco para el área del mapa */
    }

    .looker-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }

    /* Ocultar el botón de toggle si no lo quieres en esta vista */
    /* .sidebar-toggle { display: none; } */

    /* Ajustes para asegurar que el contenedor principal no tenga scroll extra */
    body.with-sidebar .main-container {
        height: 100vh;
        overflow: hidden;
        /* Evitar scroll en el contenedor principal */
    }
</style>
{% endblock %}

{% block content %}
{# Eliminamos el botón toggle de aquí, ya que está en base.html si se decide mantenerlo #}

{# Contenido principal (mapa) #}
{# No necesitamos <main> aquí porque ya está en base.html #}
    <div class="looker-container">
        <iframe width="100%" height="100%"
            src="https://lookerstudio.google.com/embed/reporting/38893315-37a0-40ea-b016-b50ab0b007ea/page/p_8vmrfhtkpd"
            frameborder="0" style="border:0" allowfullscreen
            sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"></iframe>
    </div>

    {# El script de toggle ya no es necesario aquí si se maneja globalmente o se elimina #}
    {% endblock %}